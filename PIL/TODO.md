# TODO - iOS Platform Integration Layer

## PIL
- [ ] Configuration
  - [ ] Library supports SIP credentials
    - [ ] Username/password/domain/port
    - [ ] Encryption on/off
  - [ ] Library supports user preferences
    - [ ] Codec
    - [ ] Use app ringtone
- [ ] Middleware
  - [ ] Middleware protocol exists to offload registration to consuming app
  - [ ] Using implementation from consuming app can properly establish push kit integration
- [ ] Events
  - [ ] Events can be listened for
  - [ ] Events can be broadcast
  - [ ] Events include call object where relevant
- [ ] Call Management
  - [ ] Immutable call object can be generated
    - [ ] Remote number
    - [ ] Display name
    - [ ] Call state
    - [ ] Direction
    - [ ] Hold State
    - [ ] UUID
    - [ ] Mos Value
    - [ ] Contact information
  - [ ] Calls are stored/tracked in the PIL based on events from the phonelib
- [ ] Calling
  - [ ] Outgoing
    - [ ] Can place an outgoing call to a given number
    - [ ] Hooks up with call kit
    - [ ] Automatically displays call screen if chosen
  - [ ] Incoming
    - [ ] App calls while in background
    - [ ] User can answer call
    - [ ] User can decline call
    - [ ] Works with bluetooth devices
    - [ ] User is taken to call screen after accepting call
  - [ ] General
    - [ ] Audio can be routed to bluetooth
    - [ ] Audio can be routed to speaker
    - [ ] Audio can be routed to earpiece
    - [ ] Call can be muted
    - [ ] Call can be put on hold
    - [ ] Transfer
      - [ ] User can begin transfer to new number
      - [ ] User hears audio from second call after beginning transfer
      - [ ] User can complete transfer
- [ ] Lifecycle
  - [ ] Is aware when the app is in the background
  - [ ] Boot the library when the app is brought to foreground (if not already)
- [ ] Code/Code Quality
  - [ ] Only the absolutely necessary apis are exposed to the consuming applications
  - [ ] A DI framework is used
  
## Example App
- [ ] Setting Screen
  - [ ] SIP Auth
    - [ ] Username
    - [ ] Password
    - [ ] Domain
    - [ ] Port
  - [ ] VoIPGRID Auth
      - [ ] Username
      - [ ] Password
      - [ ] Register with Middleware
  - [ ] Preferences
      - [ ] Encryption
      - [ ] Use Application Ringtone 
- [ ] Dialer Screen
  - [ ] Input numbers
  - [ ] View number input
  - [ ] Place call
- [ ] Call Screen
    - [ ] Call Information Display
      - [ ] Show third party
      - [ ] Show call duration  
    - [ ] Hold
    - [ ] Mute
    - [ ] Transfer
    - [ ] Route to Bluetooth
    - [ ] Route to Speaker
    - [ ] Route to Earpiece
