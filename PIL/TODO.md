# TODO - iOS Platform Integration Layer

## PIL
- [ ] Configuration
  - [x] Library supports SIP credentials
    - [x] Username/password/domain/port
    - [x] Encryption on/off
  - [ ] Library supports user preferences
    - [ ] Codec
    - [ ] Use app ringtone
- [ ] Middleware
  - [x] Middleware protocol exists to offload registration to consuming app
  - [ ] Using implementation from consuming app can properly establish push kit integration
- [ ] Events
  - [ ] Events can be listened for
  - [ ] Events can be broadcast
  - [ ] Events include call object where relevant
- [ ] Call Management
  - [ ] Immutable call object can be generated
    - [x] Remote number
    - [x] Display name
    - [x] Call state
    - [x] Direction
    - [x] Hold State 
    - [x] UUID
    - [x] Mos Value
    - [ ] Contact information
  - [x] Calls are stored/tracked in the PIL based on events from the phonelib
- [ ] Calling
  - [ ] Outgoing
    - [x] Can place an outgoing call to a given number
    - [x] Hooks up with call kit
    - [x] Automatically displays call screen if chosen
  - [ ] Incoming
    - [ ] App calls while in background
    - [ ] User can answer call
    - [ ] User can decline call
    - [ ] Works with bluetooth devices
    - [ ] User is taken to call screen after accepting call
  - [ ] General
    - [ ] Audio can be routed to bluetooth
    - [x] Audio can be routed to speaker
    - [ ] Audio can be routed to earpiece
    - [x] Call can be muted
    - [x] Call can be put on hold
    - [ ] Transfer
      - [ ] User can begin transfer to new number
      - [ ] User hears audio from second call after beginning transfer
      - [ ] User can complete transfer
- [ ] Call Kit
  - [ ] Call kit integration is working
  - [ ] Calls respond to presses on notifications
  - [ ] Works with smart-watches
- [ ] Lifecycle
  - [ ] Is aware when the app is in the background
  - [ ] Boot the library when the app is brought to foreground (if not already)
- [ ] Code/Code Quality
  - [ ] Only the absolutely necessary apis are exposed to the consuming applications
  - [x] A DI framework is used
  
## Example App
- [ ] Setting Screen
  - [x] SIP Auth
    - [x] Username
    - [x] Password
    - [x] Domain
    - [x] Port
  - [x] VoIPGRID Auth
      - [x] Username
      - [x] Password
      - [x] Register with Middleware
  - [ ] Preferences
      - [x] Encryption
      - [ ] Use Application Ringtone 
- [x] Dialer Screen
  - [x] Input numbers
  - [x] View number input
  - [x] Place call
- [ ] Call Screen
    - [ ] Call Information Display
      - [ ] Show third party
      - [ ] Show call duration  
    - [x] Hold üíéüëê
    - [x] Mute
    - [ ] Transfer
    - [ ] Route to Bluetooth
    - [x] Route to Speaker
    - [ ] Route to Earpiece
