# Check out https://docs.codemagic.io/getting-started/building-a-native-ios-app/ for more information
# Please review and update values in curly braces

workflows:
    ios-phone-integration-lib:
        name: iOS Phone Integration Lib
        environment:
            vars:
                XCODE_WORKSPACE: "PIL"
                XCODE_SCHEME: "PILExampleApp"
                APP_STORE_CONNECT_ISSUER_ID: Encrypted(Z0FBQUFBQmdjQWVBMUpVc1VCNlhILUVtR0M0blFjX2ZBY3lLWW5YUjNXU3cwY3A1aXNRbnVyTTRFWkJmRHVCN05xOXFjSld4STROcGIzamhuU3U5X1Y1d2xGM1ptTXRqeGdFRmhVUDhua0dTTkZOdHJlLVFFbWJWd05OWU1QYThDOGVQUWRkUHU4OTk=)
                APP_STORE_CONNECT_KEY_IDENTIFIER: Encrypted(Z0FBQUFBQmdjQWZFMWlRbHdsQmlIT210NlhONFA4UEgwYm1lZ3NiNnd1ZnJTd254QVBFbkRFTVVaZ05nZDYxTjN3aURiUUVZazktOFNiMHBSc09LYnlxVlVZMU9NOGQ2MGc9PQ==)
                APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmdjQXptUEVncUNrQUt4SlJZcVNBYjRqNEFXSE9FdmNYOWg0S0o5UzI4Y2dEXzVabmdzNUZaUUpZODlsOUxKTEk3N2NaN2tPcUlYVEtwd2JqNkJlRXU5Wll1RnJGVi1XQlRzandtRXpZZmpQQjZFX29oZExsam50aTNRMXVybjBsWm9UdURWQlNlRU5vVktpVWVoSnBoODQ0M3RsejYySy1UaFllUWpqdHZvU0pQVUlwNy1mWk5HNVU2RDZLd3BZOEs2N0QzWTBqSUQ0NTVxblhhLUVRMXJ5TEkweHo4ZkFsdnkyN0RhbXBnbl91MUp6czZOZ3gyejBWQ1JCcHpzSU1UcFdTblNzU3BmdXFxSFh5dmFmSWs0ZldzRnBhNDYxa2Ytd3AzQUdjZ0RpZHhMalZqSFF5bndUeGFuN2p3RFRNV2ptSFNJN0FQWXRPZ19LMFN1NXJzN0Y5YVFuNm1ycW1kMTlvejYwTXVPaHNrWTVDeFprcmFwcEZMdW5DcFhkcnVUOEhjazlFYUd4NWxNVWVXVDZpalFld0lNVUhuT2hsYS1lUGRVaTJHeFU3M3lPcz0=)
                CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmdjQk55MG5XOVBINUhnLTZsa3VXTGtIazAxMG1tZGtjZDd6T1hMM0dZYmU2R043YnNOREc5b2VTTkNCNHZQLW5YLTJ5ZE9iWWZrWVNQTGlVTFg2OEpVZmtJMFFsVFBZU3FkMHpDeUE3ejlSQTFoSnZNdUI4N29hUVl0YkliN0Y5MVpDMnBnVEpQNmlubG56MWNSTXMwcVZJaV9zMjNiZWVxa3FDcGtJcUJySVpqSkIyQUo3NWRtazQ1Z1dESFhHMWdnVUx1X1NEdE80TnBJOXZGOHBXRmxDWUo5eUFYNU5oSGxKYlVoQm5CcVo5amg1TDBqWWNlQ0NLZlYxU1pYb0hmMi1IcDJSMkUzYU1FX3lmV3JxWnZpSGVrdklJMEVkb2swQUI4bDMwWFNFRVYyYVcwLTlKYzlzakJYRW1vd3Uwbk5QQ2RZVXM4TWtvUFdZYnVycFl2WWNFLTZudWc4ZFJZVkE0MUwzWnhaQ1B4SWV1SG4wODhwUTJna0lySmlOZHNfRWxaZ2tCM1poMmNjcURwcUo0MHFTVW8yQl9Oa0N0NEItUDhqTkxlWS1qZDdWWTVMMGprUTFSekNDeFBVblJBRi15V3FWNF93Y25kN2RLSnRxaEE4LW5PT2t2Xy1CMm12TzJRRkJJQzdiUzFfTUNJWVZxM0JwYjY0Q09iWnBCSXFoOU5iNjdid0pLQy1QcUMzNksyY0pFcnVVR1haTkp1YUI5dE5MR1JkdTlwRjM0NnBwUnZvSVFleEpUTG5oQ1VHLXowUEdBc1dkVkVocFZXWm9TdnJYcUJKWVlONWh5eXVUZldpeXNWMzVCVWFuQ0VuZ2VyVjIybHM5SjJiZzl3MDB0N2lSOGJrdWpncTlLTjBlcGZKd1Jfdk9xSWtGOEViT2RiZTlmVHBRMmJXWDFfNlNhMndvRmVkS2pfUkhWeUpMQW1EZVJWMkxaek1IQkVkSHRnckRZdUdrbHVrM0cyN1hwM2pjN2JqR25uYmhzempSc0JHRUNWR2Q5REZTSklEVGRCZUNqd2xOekVmdkZaX25sWUEzLVFRbzhGbktzbWc0VDBXT3hza0w0UmZZT0tQMFJ3Yi1aQm8yYV9EbFVTOGg1ZlJqaENYSENFUVhwdm91TlZFS0p3UTBMRDRMd3BMbEFKaldOSm9JelhUVGdKYVJGWnoxN2p4NUZFaTdKc3FUd0lyeUF3eFFkYmhRRUIzNFRtZXhDa3VpVFhZQS1SdFRnQ3p4Q3NKaHR6aXBKOE9SNWdDWlRadmdWa3JPYlR3c0pMek9YQjVYbEU0b3dMVXltNGhuWWxpX25admRNWi1NRzRfTnJ1dEtPR2ZWWUFCTU9Wc2Q3ZDJXSUFUSV9XODVSQ3Q3ekstRzNKMFF5cHhRelJNUDRnNGhfNUxFQ3Rkb09ZT0hYRDQyeFlUX05nMFEwVnhvSWNqanNST01hWWx4TEZJelpOYjg1SUxKbmk4dWNHUFdxdXA1aVZvNnhvM0R0bmhzdmlkV1lIbEFTYTZRV0d6Z054eHpaQnRNbk1ZaFZGN2tkVnY0QTVmblFRSWV1YzBsR0dKUG9hVGR2Y2R5YUtTaGJBdUxMbzh6SEVxaW5EVGUzQTNKaC1XbTV2b2w5VWhWMnhhenpsemZHdU1SSDVfY2c5VFgzNjhSM0h5ZHU3bkdNaXk3OUtzM2JhUC1FMVJGT01BeGtwSjZ4eWU4V1dSZGdUSkdTZFJtY1Q5cnJzSXA2RGdNLUxqSmZJQXplZUtiMWNldW1MUENQam1zSzl1aUpjMDZURVJOM1FzQXBOMlNqQ1FPOXVFN08xVzJsUmY3NXgtRTBLNkJJbHlyWGJoNHJicXlyb0Rwc2NCSXhxTHVrQzBSMEhOWHRiUER2Rml3dml6RC01enJWLWZXcXFvYi15MFZDODF2TWlib1lsaklVYkxyNU5LLTZMdkV1Z2s2RGowbVJwVEVMQnlEcmFXUmp3TW01M2I2a0NpWUhXRXc4QUZ2RjFjUkZsQk54WE1xcjJyUk5EV3pQeWU3c2I0TlhDRzRENTViMHBXNktTOGpBTWZTa092UkV1VlZtNGp4OUx1MWJ3TnNBTnFRMHpPVDZtZThUOG9od2hfS1EwVlY5dXVKRHdNZ3ZQQjlIa3ZGOUhaTVJLcE1vSjlpcks5aUNPUExtLUZqdzlTUjE3RExlb1cySHQ3TV9lTmV4R0todEFYT0R4SUFJSG5ESDRrcVR4MXFJLXlvMFdkR2pFQllWVnE1SUpRd2xlRlEwUExORkVicDdOdnFTVXlIWWhnTkpsXzQ1OV9YMnFFUzZQNVpfX0x1Z3d2X0RuM25ld1lzSTdTbHJadHRYaE9FWDZZZXV1VWlURWNxUjFqa0pnRnExZHNnTzZRQ3ZEd3lJTGNCYkZPaFFYaG9CdnhKVE5iMW9oVzh0VE5xM2x5LVp6S1pSYUVldGlLVHNyay1reU5fVkVMT3hSMHhXQldlNTloVXZ2elZXaDVROGtFLXFmbl95NlBVdVUtYWMycFRCZXhYd1lNMnBCdVlVTW9iRjVFQVJGT1RSSkVSemZHdDBrT3IzWTlqQnhZSXBUWWN2RXJjZVc0Qm94Y19XcjY2dnZTVkdMck40cnRWdTdBcDVPYldNbEVjZTJLa1NleEp3Qk90TFBhcU41X0I0VmxyQ2M0dURNNkpVSHRZaG5LaFFncDFBcmxVbzZmVk1ueEsyUUJDaVVkU3lKT1B5T3I4OXZ1OHBVWFJaOUxRMldTUEtPdUIxbjlGeGRsaWN1LVFQQzltNkhIWTFDWUlaRjExeVJLbVdwMV9feENJdGlfa1BVM3AwamUtelhDVlZmSWE0dWJQcVRMYm94X1dqaF82OFVpN1NlV0hpNDF2SEk5d2RRaFFVanZHNHhSdEY5VzBjMUlTdGlIWjZ4TFhvN0lkYWpHSEJUT0YwQzdTbVA5RVRyaUxoTG5rMTY0aXg1MjAzSExJNk1qNXRydzJselJRWTFHUGNTdnJzeXcwNVdpQnJjaE11cDdvWDRLQ0hLdmVHanlaeDlXaGM0TVE0VHFydmpmRlplQ1BBVXpDdWxwSkFf)
            xcode: latest
            cocoapods: default
        scripts:
            - xcode-project build-ipa --project "XCODE_WORKSPACE.xcodeproj" --scheme "$XCODE_SCHEME"
        artifacts:
            - $HOME/Library/Developer/Xcode/DerivedData/**/Build/**/*.ipa
        publishing:
          slack:
            channel: '#vialer_mobile_ci'
            notify_on_build_start: true
          app_store_connect:
            apple_id: iosdev.ci@wearespindle.com
            password: Encrypted(Z0FBQUFBQmdjQ0JXZjd3S0hrSF92dmRkVXFwQ1RnaEo4b25DUnFINWNrRkNwV1IyMlZBWUxFZTJmOXliT1R5cXJLUU5rZHVsM0wwRFRxOGtGSnRWbGVMMFdUa1QzcWk0SkthQU1NbDVkdHJoV3RhYV9xcmtPUFk9)